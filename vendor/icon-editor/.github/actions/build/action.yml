name: "Full Build"
description: "Runs Build.ps1 to orchestrate the full build and packaging process."
runs:
  using: "composite"
  steps:
    - name: Checkout code
      uses: actions/checkout@v3
      with:
        fetch-depth: 0

    - name: Run Build.ps1
      shell: pwsh
      run: |
        & "${{ github.action_path }}/Build.ps1" `
          -RelativePath "${{ inputs.relative_path }}" `
          -Major ${{ inputs.major }} `
          -Minor ${{ inputs.minor }} `
          -Patch ${{ inputs.patch }} `
          -Build ${{ inputs.build }} `
          -Commit "${{ inputs.commit }}" `
          -LabVIEWMinorRevision ${{ inputs.labview_minor_revision }} `
          -CompanyName "${{ inputs.company_name }}" `
          -AuthorName "${{ inputs.author_name }}"
inputs:
  relative_path:
    description: 'Workspace root path'
    required: true
  major:
    description: 'Major version'
    required: true
  minor:
    description: 'Minor version'
    required: true
  patch:
    description: 'Patch version'
    required: true
  build:
    description: 'Build number'
    required: true
  commit:
    description: 'Commit identifier'
    required: true
  labview_minor_revision:
    description: 'LabVIEW minor revision (0 or 3)'
    required: false
    default: '3'
  company_name:
    description: 'Company name for metadata'
    required: true
  author_name:
    description: 'Author name for metadata'
    required: true
